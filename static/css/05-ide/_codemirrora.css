/* Your custom theme */
.cm-s-mytheme.CodeMirror {
    width: 100%;
    height: 100%;
    color: var(--text-primary);
    background-color: var(--card-bg);
    font-family: var(--font-family-mono);
    font-size: var(--font-size-base);
    line-height: var(--line-height-normal);
    word-wrap: break-word;
    white-space: pre-wrap;
}

/* Line numbers */
.cm-s-mytheme .CodeMirror-linenumber {
    color: var(--text-secondary);
    font-size: var(--font-size-sm);
    padding: 0 var(--spacing-2);
}

.cm-s-mytheme .CodeMirror-gutters {
    background-color: var(--page-bg);
    border-right: 1px solid var(--border-light);
}

/* Cursor */
.cm-s-mytheme .CodeMirror-cursor {
    border-left: 2px solid var(--color-primary-200);
}

/* Active line */
.cm-s-mytheme .CodeMirror-activeline-background {
    background-color: var(--page-bg)
}

/* Matching brackets */
.cm-s-mytheme .CodeMirror-matchingbracket {
    color: var(--editor-coral) !important;
    background: rgba(254, 188, 153, 0.2); /* var(--editor-peach) with transparency */
    font-weight: bold;
    border-radius: var(--radius-base);
}

/* Markdown headers */
.cm-s-mytheme span.cm-header {
    font-weight: var(--font-weight-bold);
    font-size: var(--font-size-lg);
}

/* Bold text */
.cm-s-mytheme span.cm-strong {
    color: var(--text-primary);
    font-weight: var(--font-weight-bold);
    border-radius: var(--radius-sm);
}

/* Italic text */
.cm-s-mytheme span.cm-em {
    color: var(--editor-teal);
    font-style: italic;
}

/* Code blocks and inline code */
.cm-s-mytheme span.cm-comment {
    color: var(--color-tertiary-600);
    background: var(--editor-light-bg);
    font-family: var(--font-family-mono);
    border-radius: var(--radius-base);
    padding: var(--spacing-0-5) var(--spacing-1);
}

/* Links */
.cm-s-mytheme span.cm-link {
    color: var(--editor-teal);
    text-decoration: underline;
}

/* Fenced code blocks */
.cm-s-mytheme span.cm-string {
    color: var(--color-tertiary-700);
    background: rgba(106, 204, 191, 0.1); /* var(--editor-teal) with transparency */
    border-radius: var(--radius-base);
}

/* Lists and bullets */
.cm-s-mytheme span.cm-variable-2 {
    color: var(--editor-coral);
    font-weight: var(--font-weight-medium);
}

/* Quote blocks */
.cm-s-mytheme span.cm-quote {
    color: var(--color-tertiary-500);
    font-style: italic;
    border-left: 3px solid var(--editor-peach);
    padding-left: var(--spacing-2);
}

/* Keywords and special markdown syntax */
.cm-s-mytheme span.cm-keyword {
    color: var(--editor-coral);
    font-weight: var(--font-weight-medium);
}

/* Selection */
.cm-s-mytheme .CodeMirror-selected {
    background: var(--editor-selection)
}

/* Search highlight */
.cm-s-mytheme .CodeMirror-searching {
    background: rgba(254, 188, 153, 0.4); /* var(--editor-peach) for search */
}

/* Scrollbar styling */
.cm-s-mytheme.CodeMirror ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

.cm-s-mytheme.CodeMirror ::-webkit-scrollbar-thumb {
    background-color: var(--color-primary-300);
    border-radius: 4px;
}

.cm-s-mytheme.CodeMirror ::-webkit-scrollbar-track {
    background-color: var(--page-bg);
}

/* Firefox scrollbar */
.cm-s-mytheme.CodeMirror {
    scrollbar-width: thin;
    scrollbar-color: var(--color-primary-300) var(--page-bg);
}

/* Line wrapping styles */
.cm-s-mytheme .CodeMirror-wrap {
    word-wrap: break-word;
    white-space: pre-wrap;
}

.cm-s-mytheme .CodeMirror-lines {
    word-wrap: break-word;
    white-space: pre-wrap;
}

.cm-s-mytheme .CodeMirror-line {
    word-wrap: break-word;
    white-space: pre-wrap;
    overflow-wrap: break-word;
}
